---
import '../styles/global.css';
---

<!doctype html>
<html lang='pl'>
  <head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1' />
    <meta
      name='description'
      content='Portfolio Piotra Łabiaka - Frontend Developer. Tworzę nowoczesne, responsywne strony internetowe i aplikacje webowe.'
    />
    <link rel='icon' type='image/svg+xml' href='/favicon.svg' />

    <link rel='preconnect' href='https://fonts.googleapis.com' />
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin />
    <link
      rel='preload'
      as='style'
      href='https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;600;700&family=Space+Grotesk:wght@400;600;700&display=swap'
    />
    <link
      rel='stylesheet'
      href='https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;600;700&family=Space+Grotesk:wght@400;600;700&display=swap'
      media='print'
      onload="this.media='all'"
    />
    <noscript>
      <link
        rel='stylesheet'
        href='https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;600;700&family=Space+Grotesk:wght@400;600;700&display=swap'
      />
    </noscript>

    <link
      rel='preload'
      as='style'
      href='https://unpkg.com/aos@next/dist/aos.css'
    />
    <link
      rel='stylesheet'
      href='https://unpkg.com/aos@next/dist/aos.css'
      media='print'
      onload="this.media='all'"
    />
    <noscript>
      <link rel='stylesheet' href='https://unpkg.com/aos@next/dist/aos.css' />
    </noscript>

    <link rel='canonical' href='https://piotrlabiak.pl/' />
    <link rel='sitemap' href='/sitemap-index.xml' />
    <meta name='generator' content={Astro.generator} />

    <meta property='og:type' content='website' />
    <meta property='og:locale' content='pl_PL' />
    <meta property='og:title' content='Piotr Łabiak – Frontend Developer' />
    <meta
      property='og:description'
      content='Tworzę nowoczesne, responsywne strony i aplikacje webowe.'
    />
    <meta property='og:url' content='https://piotrlabiak.pl/' />
    <meta property='og:image' content='https://piotrlabiak.pl/og-image.jpg' />
    <meta property='og:image:width' content='1200' />
    <meta property='og:image:height' content='630' />
    <meta name='twitter:card' content='summary_large_image' />
    <meta name='twitter:title' content='Piotr Łabiak – Frontend Developer' />
    <meta
      name='twitter:description'
      content='Tworzę nowoczesne, responsywne strony internetowe i aplikacje webowe.'
    />
    <meta name='twitter:image' content='https://piotrlabiak.pl/og-image.jpg' />

    <title>Piotr Łabiak - Frontend Developer</title>
  </head>
  <body class='grain'>
    <div class='bg-grid' aria-hidden='true'></div>
    <slot />

    <script src='https://unpkg.com/aos@next/dist/aos.js' defer></script>
    <script is:inline>
      const isMobileFirefoxAndroid =
        typeof navigator !== 'undefined' &&
        /Android/i.test(navigator.userAgent) &&
        /Firefox/i.test(navigator.userAgent);

      document.addEventListener('DOMContentLoaded', () => {
        AOS.init({
          once: true,
          duration: 600,
          easing: 'ease-out-quart',
          disable: () => {
            return (
              window.matchMedia('(prefers-reduced-motion: reduce)').matches ||
              isMobileFirefoxAndroid // Disable on Firefox for Android due to performance issues
            );
          },
        });

        document.addEventListener('astro:after-swap', () => AOS.refreshHard());
        document.addEventListener('astro:page-load', () => AOS.refresh());
      });
    </script>
  </body>
</html>

<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    overflow-x: hidden;
  }

  html {
    height: 100%;
    background: var(--bg);
    color: var(--text);
    scroll-behavior: smooth;
  }

  body {
    width: 100%;
    max-width: 100%;
    font-family: 'Space Grotesk', system-ui, sans-serif;
    line-height: 1.45;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    overflow-x: hidden;
  }

  .grain::before {
    content: '';
    position: fixed;
    inset: -20vmax;
    z-index: -2;
    background-image: url('data:image/svg+xml;utf8,\
      <svg xmlns="http://www.w3.org/2000/svg" width="400" height="400">\
        <filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" seed="7"/></filter>\
        <rect width="100%" height="100%" filter="url(%23n)" opacity="0.35" />\
      </svg>');
    background-size: 25rem 25rem;
    mix-blend-mode: soft-light;
    opacity: var(--noise-opacity);
    animation: drift 28s linear infinite;
  }

  .bg-grid {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -3;
    background: radial-gradient(
        100% 120% at 50% 0%,
        #10241b4f 0%,
        transparent 65%
      ),
      radial-gradient(120% 100% at 120% 20%, #1a0e2b3d 0%, transparent 55%),
      radial-gradient(120% 100% at -20% 80%, #0e1b153b 0%, transparent 60%),
      repeating-linear-gradient(90deg, #0c121b 0 1px, transparent 1px 120px),
      repeating-linear-gradient(180deg, #0c121b 0 1px, transparent 1px 120px);
  }
</style>
